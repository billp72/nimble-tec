$(function(a){requested=function(t){var s="object"==typeof t?1:t,n=this,o=a(this).val(),p=o.length>0?o:"0";console.log(p,s),a.post("/admin-search-results",{primary:p,page:s},function(t){a(".results").remove(),a("#myDropdown").append('<a class="results">'+t.count+" results</a>"),a("a").click(function(){a("tbody").empty(),a.each(t.results,(e,t)=>{a("tbody").append(a("<tr>").append(a("<td>").append('<input name="box-'+e+'" class="all" type="checkbox"value="'+t.tel+'" />'),a('<td class="column-'+e+'">').append(t.firstName),a('<td class="column-'+e+'">').append(t.about),a('<td class="column-'+e+'">').append(t.distance+" mi"),a('<td class="column-'+e+'">').append(t.tel),a('<td class="column-'+e+'">').append(t.primary),a('<td class="column-'+e+'">').append(t.secondary),a('<td class="column-'+e+'">').append(t.hobby)))})}),0===t.count&&a(".results").remove(),e(t.pages,t.currentPage,n)})},a("#search-bar").keyup(a.debounce(250,requested)),a("#toggleCheckboxes").click(function(){for(var a=Array.prototype.slice.call(document.getElementsByClassName("all")),e=a.length,t=0;t<e;t++)a[t].checked=this.checked}),a("#dialog").dialog({autoOpen:!1}),a("#submitform").click(function(){for(var e={sms:[]},t=a("input:checkbox:checked","#myTable").map(function(e,t){return a(this).val()}).get(),s=0;s<t.length;s++)e.sms.push({tel:t[s]});return e.textmessage=a("#textmessage").val(),e.sms[0]&&e.sms[0].tel&&e.textmessage?a.ajax({type:"POST",url:"/submit-sms",data:JSON.stringify(e),contentType:"application/json; charset=utf-8",success:function(e){a("#dialog").html(e),a("#dialog").dialog("open")}}):alert("you must select a row and fill out the message box"),!1});var e=function(e,t,s){(t=parseInt(t,10))<e&&0!=e&&a(".pagination").html("<span>"+t+'</span><a id="currentPage"></a>&nbsp;of&nbsp;<span>'+e+'</span><a id="totalPages"> > </a>'),t>e&&0!=e&&a(".pagination").html("<span>"+t+'</span>&nbsp;&nbsp;<a id="currentPage"> < </a>&nbsp;of&nbsp;<span>'+e+'</span><a id="totalPages"></a>'),t===e&&a(".pagination").html("<span>"+t+"</span>&nbsp;of&nbsp;<span>"+e+"</span>&nbsp;pages"),a(".pagination").on("click",function(a){t!==e&&("currentPage"===a.target.id?t++:"totalPages"===a.target.id&&t--,requested.call(s,t))})}}(jQuery));