$(function(a){requested=function(s){var n="object"==typeof s?1:s,t=this,p=a(this).val(),o=p.length>0?p:"0";a.post("/admin-search-results",{primary:o,page:n},function(s){a(".results").remove(),a("#myDropdown").append('<a class="results">'+s.count+" results</a>"),a("a").click(function(){a("tbody").empty(),a.each(s.results,(e,s)=>{a("tbody").append(a("<tr>").append(a("<td>").append('<input name="box-'+e+'" class="all" type="checkbox"value="'+s.tel+'" />'),a('<td class="column-'+e+'">').append(s.firstName),a('<td class="column-'+e+'">').append(s.about),a('<td class="column-'+e+'">').append(s.distance+" mi"),a('<td class="column-'+e+'">').append(s.tel),a('<td class="column-'+e+'">').append(s.primary),a('<td class="column-'+e+'">').append(s.secondary),a('<td class="column-'+e+'">').append(s.hobby)))})}),0===s.count&&a(".results").remove(),e(s.pages,s.currentPage,t)})},a("#search-bar").keyup(a.debounce(250,requested)),a("#toggleCheckboxes").click(function(){for(var a=Array.prototype.slice.call(document.getElementsByClassName("all")),e=a.length,s=0;s<e;s++)a[s].checked=this.checked}),a("#dialog").dialog({autoOpen:!1}),a("#submitform").click(function(){for(var e={sms:[]},s=a("input:checkbox:checked","#myTable").map(function(e,s){return a(this).val()}).get(),n=0;n<s.length;n++)e.sms.push({tel:s[n]});return e.textmessage=a("#textmessage").val(),e.sms[0]&&e.sms[0].tel&&e.textmessage?a.ajax({type:"POST",url:"/submit-sms",data:JSON.stringify(e),contentType:"application/json; charset=utf-8",success:function(e){a("#dialog").html(e),a("#dialog").dialog("open")}}):alert("you must select a row and fill out the message box"),!1});var e=function(e,s,n){(s=parseInt(s,10))<e&&1===s&&a(".pagination").html("<span>"+s+'</span><a id="currentPage"></a>&nbsp;of&nbsp;<span>'+e+'</span><a id="totalPages"> > </a>'),s===e&&e>1&&a(".pagination").html('<a id="currentPage"> < </a>&nbsp;of&nbsp;<span>'+s+"</span>&nbsp;&nbsp;<span>"+e+"</span>&nbsp;pages"),s<e&&s>1&&a(".pagination").html('<a id="currentPage"> < </a>&nbsp;of&nbsp;<span>'+s+"</span>&nbsp;&nbsp;<span>"+e+'</span><a id="totalPages"> > </a>'),s===e&&1===e&&a(".pagination").html("<span>"+s+"</span>&nbsp;of&nbsp;<span>"+e+"</span>&nbsp;pages"),a(".pagination").on("click",function(a){s!==e&&("currentPage"===a.target.id?s++:"totalPages"===a.target.id&&s--,requested.call(n,s))})}}(jQuery));